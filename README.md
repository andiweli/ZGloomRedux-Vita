# ZGloom Redux for PSVITA

An overhauled version of ZGloom-Vita-Vita2D for the PlayStation Vita with GPU rendering and extended options and effects. Based on version 3.0 of the [Vita2D version](https://github.com/andiweli/ZGloom-Vita-Vita2D) which is based on the [original Port by JetstreamSham](https://github.com/JetStreamSham/ZGloom-vita).

> [!IMPORTANT]
> This is a WIP - it will be released when it's done and ready!

## New Redux Live-Area
![livescreen](https://github.com/user-attachments/assets/ebf29c78-1648-46a0-a743-57835f179e52)

## New Redux Game selector
![overhauled-ingame-gameselector](https://github.com/user-attachments/assets/59cfbc38-caf8-4092-bf2e-e9ac63bd79c8)

## You can now continue a previously saved checkpoint
![titlescreen-load-game](https://github.com/user-attachments/assets/31ad8bbf-6f83-4174-9044-2fb7bbd66e68)

## Overhauled In-game menu with lots of options
![overhauled-ingame-menu](https://github.com/user-attachments/assets/81d82451-97bc-41f4-8d93-45804827bc63)

## Overhauled Sound FX screen with In-game ambience
![ingame-menu-soundfx](https://github.com/user-attachments/assets/2f23d3fe-202b-4fb2-bc6d-c39a1e914a22)

## The biggest thing, new Display and GFX options
![ingame-menu-ggxoptions](https://github.com/user-attachments/assets/a2954358-4cbb-439b-9089-0aa8e94d2888)

## And of course additional Cheats
![ingame-menu-cheats](https://github.com/user-attachments/assets/c27a7301-97c5-4263-a64e-faa62dfc0884)

## Bullets and Ugrades now have reflections (pulsating)
![gfx-reflections](https://github.com/user-attachments/assets/41f38c48-16d3-4bac-a89c-79d436c6ec31)

## Reflections follow bullets from player and enemies
![gfx-more-reflections](https://github.com/user-attachments/assets/a4e11d46-205b-48ed-954e-3dde4120f303)

## Also a neat muzzle flash around the weapon
![gfx-muzzleflash-reflections](https://github.com/user-attachments/assets/1ba21148-5f94-42ba-aef0-8ec3f3c3d246)

> [!IMPORTANT]
> This is a WIP - it will be released when it's done and ready!

## What is Gloom?

[Gloom](https://en.wikipedia.org/wiki/Gloom_(video_game)) was a 1995 Doom-clone from Black Magic Software for Commodore Amiga. It had [very messy and meaty graphics](https://www.lemonamiga.com/games/details.php?id=1781) and needed a very powerful Amiga computer back then (A1200 @ 030 was far too low). It had several official successors like Gloom Deluxe/Ultimate Gloom (a graphical enhanced Gloom), Gloom 3, Zombie Massacre and even some full-game conversion of 90's Amiga games.

# Instructions

## How to play

Gloom was made freely available by its developers [here](https://github.com/earok/GloomAmiga/archive/master.zip).<br>
For the other official games using the Black Magic "Gloom"-engine like [Gloom 3](http://aminet.net/package/game/shoot/UltimateGloomISO) or [Zombie Massacre](http://aminet.net/package/game/shoot/ZombieMassacreISO) you can load them for free on Aminet. Otherwise you can take the original game files from your game installation. Or just download them [here](https://github.com/andiweli/ZGloom-vita/tree/master/gamefiles) (thank's to Gareth Murfin for the permission).

To play on PS VITA install the .vpk, download the .zip of the game(s) you want to play, extract them somewhere to your harddrive and copy only the folders (depending on the game) to the following locations on vita:

> ux0:/data/zgloom/gloom <br>
> ux0:/data/zgloom/deluxe <br>
> ux0:/data/zgloom/gloom3 <br>
> ux0:/data/zgloom/massacre

## Building on Linux (or [WSL](https://learn.microsoft.com/de-de/windows/wsl/install) on Windows)

I am using Ubuntu on Windows with VitaSDK.

1. Install packages
    ```
    apt-get install make git-core cmake python
    ``` 
3. Install the [VitaSDK](https://vitasdk.org/) (see more @ [VitaSDK Installation](https://vitasdk.org/))
    ```
    export VITASDK=/usr/local/vitasdk
    export PATH=$VITASDK/bin:$PATH # add vitasdk tool to $PATH
    git clone https://github.com/vitasdk/vdpm
    cd vdpm
    ./bootstrap-vitasdk.sh
    ./install-all.sh
    ```
4. Install the LibXMP vita library [port](https://github.com/JetStreamSham/libxmp) (see more @ [porting libraries section](https://vitasdk.org/) for installtion instructions)
6. Generate makefile and build .VPK with
    ```
    ./build.sh
    ```

# License

Dunno. [The Gloom source release](https://github.com/earok/GloomAmiga) says only the .s and .bb2 files are open source, but the Gloom executable bakes in some maths lookup tables (but then, they are generated by the .bb2 files), bullet and sparks graphics, and 
the title screen for Classic Gloom. I probably won't add the latter and just display the Black Magic image, or something.

Uses LibXMP for MED playback
http://xmp.sourceforge.net/

Uses SDL2 and SDL2 mixer
https://www.libsdl.org/

DeCrunchmania C code by Robert Leffman, licence unknown
http://aminet.net/package/util/pack/decrunchmania_os4

Uses Vita SDK
https://vitasdk.org/
